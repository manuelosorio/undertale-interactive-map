"use strict";

var $audio = $('#audio'),
    $volumeIcon = $('#volumeIcon'),
    $player = $('.player'),
    $routerContainer = $('.router--container'),
    $menu = $('.nav--menu');
var $map = undefined;
$(document).ready(function () {
  routes();
  var $audio = $('#audio'),
      $muteButton = $('.icon'),
      $volumeIcon = $('#volumeIcon'); //alert variables

  var $alert = $('.alert'),
      $allow = $('#allow'),
      $decline = $('#decline');

  if (localStorage['soundAllowed'] !== undefined) {
    var isSoundAllowed = localStorage.getItem('soundAllowed');

    if (localStorage['soundAllowed'] === 'true') {
      $alert.remove();
      $audio.trigger('play');
      $audio.prop('volume', 0.25);
      $volumeIcon.attr('src', './images/sound.svg');
    } else {
      $alert.remove();
      $audio.trigger('pause');
      $audio.prop('volume', 0);
      $audio.prop('currentTime', '0');
      $volumeIcon.attr('src', './images/mute.svg');
    }
  } else {
    // $alert.remove()
    $audio.trigger('pause');
    $audio.prop('volume', 0);
    $audio.prop('currentTime', '0');
    $volumeIcon.attr('src', '');
  }

  $allow.click(function () {
    localStorage.setItem('soundAllowed', 'true');
    $alert.remove();
    $audio.trigger('play');
    $audio.prop('volume', 0.25);
    $volumeIcon.attr('src', './images/sound.svg');
  });
  $decline.click(function () {
    localStorage.setItem('soundAllowed', 'false');
    $volumeIcon.attr('src', './images/mute.svg');
    $alert.remove();
  });
  $volumeIcon.click(function () {
    if (localStorage['soundAllowed'] === 'true') {
      localStorage['soundAllowed'] = 'false';
      $volumeIcon.attr('src', './images/mute.svg');
      soundMute();
    } else if (localStorage['soundAllowed'] === 'false') {
      localStorage['soundAllowed'] = true;
      $volumeIcon.attr('src', './images/sound.svg');
      soundUnmute();
    }

    console.log('Is sound allowed', localStorage['soundAllowed']);
  });
  console.log('Is sound allowed: ', localStorage['soundAllowed']);
  $('.player').draggable({
    addClasses: false
  });
});

function locationsLoad(name) {
  console.warn(window.location.href.indexOf("404") > -1);

  if (!(window.location.href.indexOf('404') > -1)) {
    $.ajaxSetup({
      cache: false
    });
    $routerContainer.css({
      opacity: '0'
    });
    $player.css({
      opacity: '0'
    });
    $routerContainer.load('./locations/' + name + '.html', function () {
      $routerContainer.stop().animate({
        opacity: '1'
      }, 800, 'swing');
      $player.stop().delay(800).css({
        opacity: '1'
      });
      $('#navMenu').on('click', function () {
        var $this = $(this);
        $this.toggleClass('active');
      });
      $('.map').draggable({
        addClasses: false
      });
      $('.interest-point').draggable({
        addClasses: false
      });
    });
  } else {
    $.ajaxSetup({
      cache: false
    });
    $routerContainer.css({
      opacity: '0'
    });
    $player.css({
      opacity: '0'
    });
    $routerContainer.load('./locations/' + name + '.html', function () {
      $routerContainer.css({
        opacity: '1'
      });
      $player.stop().delay(0).css({
        opacity: '0'
      });
    });
  }
}

var $links = $('#links');

function createNav(navItems) {}

$links.click(function () {
  deleteNav();
});

function deleteNav() {// $links.empty()
}

function newSound(name) {
  console.log("New Song name:", name);
  var src = "./audio/music/" + name + ".mp3";
  console.log("path: ", src);
  $audio.trigger("pause");
  $audio.prop("currentTime", "0");
  $audio.attr('src', src);
  console.log("Local Storage ".concat(localStorage.getItem('soundAllowed')));

  if (localStorage.getItem('soundAllowed') !== undefined || localStorage.getItem('soundAllowed') !== "false") {
    $audio.trigger('play');
  } else if (localStorage.getItem('soundAllowed') === "false") {}
}

function soundMute() {
  $audio.prop("volume", 0);
}

function soundUnmute() {
  $audio.prop("volume", 0.25);
  $audio.prop("currentTime", 0);
  $audio.trigger('play');
}

$(document).keydown(function (e) {
  var speed = 17,
      movement = 15;
  $map = $('.map');

  if (!(window.location.href.indexOf("404") > -1)) {
    switch (e.which) {
      //move up
      case 38:
      case 87:
        console.log(e.code + ' up');
        updatePosition(null, -1 * movement, speed, 'easeOutQuart');
        break;
      //move down

      case 40:
      case 83:
        console.log(e.code + ' down');
        updatePosition(null, movement, speed, 'easeOutQuart');
        break;
      // move left

      case 37:
      case 65:
        console.log(e.code + ' left');
        updatePosition(-1 * movement, null, speed, 'easeOutQuart');
        break;
      //move right

      case 39:
      case 68:
        updatePosition(movement, null, speed, 'easeOutQuart');
        break;
    }
  }
});

function setPosition(target, x, y) {
  var $this = $(this);
  $this.target = target;
  $this.posX = x;
  $this.posY = y;

  if ($this.posX != null && $this.posY != null) {
    console.log("Position X", $this.posX);
    console.log("Position Y", $this.posY);
    $this.target.css({
      'left': $this.posX + 'px',
      'top': $this.posY + 'px'
    });
  } else {
    console.warn("There is actually a null X or Y... Hopefully its intentional...");

    if ($this.posX != null) {
      $this.$this.target.css({
        'left': $this.posX + 'px'
      });
    } else {
      console.warn("X is returning null");
    }

    if ($this.posY != null) {
      $this.target.css({
        'top': $this.posY + 'px'
      });
    } else {
      console.warn("Y is returning null");
    }
  }
}

function updatePosition(x, y, dt, easing) {
  var $this = $(this);
  $this.moveX = x;
  $this.moveY = y;
  $this.offsetX = 5;
  $this.offsetY = 5;
  $this.dt = dt; // X Movement

  if ($this.moveX != null) {
    if ($this.moveX < 0) {
      $this.moveX *= -1;

      if ($player.position().left > 1) {
        $player.stop().animate({
          left: '-=' + $this.moveX + 'px'
        }, dt, easing);
      }

      $map.stop().animate({
        left: '+=' + ($this.moveX - $this.offsetX) + 'px'
      }, dt, easing);
    } else {
      if ($player.position().left < window.innerWidth / 2) {
        $player.stop().animate({
          left: '+=' + $this.moveX + 'px'
        }, dt, easing);
      }

      $map.stop().animate({
        left: '-=' + ($this.moveX - $this.offsetX) + 'px'
      }, dt, easing);
    }
  } // Y Movement


  if ($this.moveY != null) {
    if ($this.moveY < 0) {
      $this.moveY *= -1;

      if ($player.position().top > 1) {
        $player.stop().animate({
          top: '-=' + $this.moveY + 'px'
        }, dt, easing);
      }

      $map.stop().animate({
        top: '+=' + ($this.moveY - $this.offsetY) + 'px'
      }, dt, easing);
    } else {
      if ($player.position().top < window.innerHeight / 2) {
        $player.stop().animate({
          top: '+=' + $this.moveY + 'px'
        }, dt, easing);
      }

      $map.stop().animate({
        top: '-=' + ($this.moveY - $this.offsetY) + 'px'
      }, dt, easing);
    }
  }
}

var root = null;
var useHash = true; // Defaults to: false

var hash = '#!'; // Defaults to: '#'

var router = new Navigo(root, useHash, hash);

function routes() {
  router.on(function () {
    console.info('The Underground');
    locationsLoad('the-underground');
    newSound('start');
    setPosition($player, 62, 311);
  });
  router.notFound(function (query) {
    console.info('404 page not found');
    locationsLoad('stay-determined');
    newSound('determination');
    router.navigate("/404");
    deleteNav();
    $(document).keydown(function (e) {
      if (window.location.href.indexOf("404") > -1) {
        setPosition($player, 62, 311);
        router.navigate("/");
      }
    });
  });
  router.on({
    'ruins': function ruins() {
      console.info('Ruins');
      locationsLoad('ruins');
      newSound('ruins');
      setPosition($player, 680, 377);
    },
    'ruins/spider-bake-sale': function ruinsSpiderBakeSale() {
      newSound('spiderdance');
      setPosition($player, 680, 377);
    },
    'snowdin': function snowdin() {
      console.info('Snowdin Forest');
      locationsLoad('snowdin');
      newSound('snowdin');
      setPosition($player, 264, 468);
    },
    'snowdin/snowman': function snowdinSnowman() {
      setPosition($('.map'), -5634, -794);
      setPosition($player, 764, 300);
    },
    'snowdin/grillbys': function snowdinGrillbys() {
      setPosition($('.map'), -21909, -2870);
      setPosition($player, 779, 345);
    },
    'snowdin/papyrus-sans-house': function snowdinPapyrusSansHouse() {
      setPosition($('.map'), -23827, -2885);
      setPosition($player, 779, 345);
    },
    'waterfall': function waterfall() {
      console.info('Waterfall');
      locationsLoad('waterfall');
      setPosition($player, 475, 365);
      newSound('waterfall');
    },
    'waterfall/temmie': function waterfallTemmie() {
      console.info('Temmie');
      setPosition($('.map'), -14596, -5488);
      setPosition($player, 753, 375);
      newSound('temmie');
    },
    'hotland': function hotland() {
      console.info('Hotland');
      locationsLoad('hotland');
      setPosition($player, 258, 432);
      newSound('hotland');
    },
    'hotland/alphy': function hotlandAlphy() {
      setPosition($player, 768, 369.246);
      setPosition($('.map'), -4758.97, -6658.56);
      newSound('alphys');
    },
    'the-core': function theCore() {
      console.info('The Core');
      locationsLoad('the-core');
      newSound('the-core');
    },
    'new-home': function newHome() {
      console.info('New Home');
      locationsLoad('new-home');
      newSound('his-theme');
    }
  }).resolve();
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyIsIm1vZHVsZXMvbG9jYXRpb25zLmpzIiwibW9kdWxlcy9uYXZpZ2F0aW9uLmpzIiwibW9kdWxlcy9uZXdTb3VuZC5qcyIsIm1vZHVsZXMvcGxheWVyTW92ZW1lbnQuanMiLCJtb2R1bGVzL3JvdXRlcy5qcyJdLCJuYW1lcyI6WyIkYXVkaW8iLCIkIiwiJHZvbHVtZUljb24iLCIkcGxheWVyIiwiJHJvdXRlckNvbnRhaW5lciIsIiRtZW51IiwiJG1hcCIsInVuZGVmaW5lZCIsImRvY3VtZW50IiwicmVhZHkiLCJyb3V0ZXMiLCIkbXV0ZUJ1dHRvbiIsIiRhbGVydCIsIiRhbGxvdyIsIiRkZWNsaW5lIiwibG9jYWxTdG9yYWdlIiwiaXNTb3VuZEFsbG93ZWQiLCJnZXRJdGVtIiwicmVtb3ZlIiwidHJpZ2dlciIsInByb3AiLCJhdHRyIiwiY2xpY2siLCJzZXRJdGVtIiwic291bmRNdXRlIiwic291bmRVbm11dGUiLCJjb25zb2xlIiwibG9nIiwiZHJhZ2dhYmxlIiwiYWRkQ2xhc3NlcyIsImxvY2F0aW9uc0xvYWQiLCJuYW1lIiwid2FybiIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImluZGV4T2YiLCJhamF4U2V0dXAiLCJjYWNoZSIsImNzcyIsIm9wYWNpdHkiLCJsb2FkIiwic3RvcCIsImFuaW1hdGUiLCJkZWxheSIsIm9uIiwiJHRoaXMiLCJ0b2dnbGVDbGFzcyIsIiRsaW5rcyIsImNyZWF0ZU5hdiIsIm5hdkl0ZW1zIiwiZGVsZXRlTmF2IiwibmV3U291bmQiLCJzcmMiLCJrZXlkb3duIiwiZSIsInNwZWVkIiwibW92ZW1lbnQiLCJ3aGljaCIsImNvZGUiLCJ1cGRhdGVQb3NpdGlvbiIsInNldFBvc2l0aW9uIiwidGFyZ2V0IiwieCIsInkiLCJwb3NYIiwicG9zWSIsImR0IiwiZWFzaW5nIiwibW92ZVgiLCJtb3ZlWSIsIm9mZnNldFgiLCJvZmZzZXRZIiwicG9zaXRpb24iLCJsZWZ0IiwiaW5uZXJXaWR0aCIsInRvcCIsImlubmVySGVpZ2h0Iiwicm9vdCIsInVzZUhhc2giLCJoYXNoIiwicm91dGVyIiwiTmF2aWdvIiwiaW5mbyIsIm5vdEZvdW5kIiwicXVlcnkiLCJuYXZpZ2F0ZSIsInJlc29sdmUiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxDQUFBLENBQUEsUUFBQSxDQUFBO0FBQUEsSUFDQUMsV0FBQSxHQUFBRCxDQUFBLENBQUEsYUFBQSxDQURBO0FBQUEsSUFFQUUsT0FBQSxHQUFBRixDQUFBLENBQUEsU0FBQSxDQUZBO0FBQUEsSUFHQUcsZ0JBQUEsR0FBQUgsQ0FBQSxDQUFBLG9CQUFBLENBSEE7QUFBQSxJQUlBSSxLQUFBLEdBQUFKLENBQUEsQ0FBQSxZQUFBLENBSkE7QUFLQSxJQUFBSyxJQUFBLEdBQUFDLFNBQUE7QUFDQU4sQ0FBQSxDQUFBTyxRQUFBLENBQUEsQ0FBQUMsS0FBQSxDQUFBLFlBQUE7QUFDQUMsRUFBQUEsTUFBQTtBQUNBLE1BQUFWLE1BQUEsR0FBQUMsQ0FBQSxDQUFBLFFBQUEsQ0FBQTtBQUFBLE1BQ0FVLFdBQUEsR0FBQVYsQ0FBQSxDQUFBLE9BQUEsQ0FEQTtBQUFBLE1BRUFDLFdBQUEsR0FBQUQsQ0FBQSxDQUFBLGFBQUEsQ0FGQSxDQUZBLENBTUE7O0FBQ0EsTUFBQVcsTUFBQSxHQUFBWCxDQUFBLENBQUEsUUFBQSxDQUFBO0FBQUEsTUFDQVksTUFBQSxHQUFBWixDQUFBLENBQUEsUUFBQSxDQURBO0FBQUEsTUFFQWEsUUFBQSxHQUFBYixDQUFBLENBQUEsVUFBQSxDQUZBOztBQUlBLE1BQUFjLFlBQUEsQ0FBQSxjQUFBLENBQUEsS0FBQVIsU0FBQSxFQUFBO0FBQ0EsUUFBQVMsY0FBQSxHQUFBRCxZQUFBLENBQUFFLE9BQUEsQ0FBQSxjQUFBLENBQUE7O0FBQ0EsUUFBQUYsWUFBQSxDQUFBLGNBQUEsQ0FBQSxLQUFBLE1BQUEsRUFBQTtBQUNBSCxNQUFBQSxNQUFBLENBQUFNLE1BQUE7QUFDQWxCLE1BQUFBLE1BQUEsQ0FBQW1CLE9BQUEsQ0FBQSxNQUFBO0FB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QUEsQ0FBQSxPQUFBLENBQUE7QUFDQW1ELE1BQUFBLFFBQUEsQ0FBQSxRQUFBLENBQUE7QUFDQSxLQXZEQTtBQXdEQSxnQkFBQSxtQkFBQTtBQUNBMUIsTUFBQUEsT0FBQSxDQUFBeUQsSUFBQSxDQUFBLFVBQUE7QUFDQXJELE1BQUFBLGFBQUEsQ0FBQSxVQUFBLENBQUE7QUFDQXNCLE1BQUFBLFFBQUEsQ0FBQSxVQUFBLENBQUE7QUFDQSxLQTVEQTtBQTZEQSxnQkFBQSxtQkFBQTtBQUNBMUIsTUFBQUEsT0FBQSxDQUFBeUQsSUFBQSxDQUFBLFVBQUE7QUFDQXJELE1BQUFBLGFBQUEsQ0FBQSxVQUFBLENBQUE7QUFDQXNCLE1BQUFBLFFBQUEsQ0FBQSxXQUFBLENBQUE7QUFDQTtBQWpFQSxHQURBLEVBbUVBbUMsT0FuRUE7QUFxRUEiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgJGF1ZGlvID0gJCgnI2F1ZGlvJyksXHJcbiAgICAgICR2b2x1bWVJY29uID0gJCgnI3ZvbHVtZUljb24nKSxcclxuICAgICAgJHBsYXllciA9ICQoJy5wbGF5ZXInKSxcclxuICAgICAgJHJvdXRlckNvbnRhaW5lciA9ICQoJy5yb3V0ZXItLWNvbnRhaW5lcicpLFxyXG4gICAgICAkbWVudSA9ICQoJy5uYXYtLW1lbnUnKVxyXG4gIGxldCAkbWFwID0gdW5kZWZpbmVkXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICByb3V0ZXMoKVxyXG4gIGNvbnN0ICRhdWRpbyA9ICQoJyNhdWRpbycpLFxyXG4gICAgICAgICRtdXRlQnV0dG9uID0gJCgnLmljb24nKSxcclxuICAgICAgICAkdm9sdW1lSWNvbiA9ICQoJyN2b2x1bWVJY29uJylcclxuXHJcbiAgLy9hbGVydCB2YXJpYWJsZXNcclxuICBjb25zdCAkYWxlcnQgPSAkKCcuYWxlcnQnKSxcclxuICAgICAgICAkYWxsb3cgPSAkKCcjYWxsb3cnKSxcclxuICAgICAgICAkZGVjbGluZSA9ICQoJyNkZWNsaW5lJylcclxuXHJcbiAgaWYgKGxvY2FsU3RvcmFnZVsnc291bmRBbGxvd2VkJ10gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgbGV0IGlzU291bmRBbGxvd2VkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NvdW5kQWxsb3dlZCcpXHJcbiAgICBpZiAobG9jYWxTdG9yYWdlWydzb3VuZEFsbG93ZWQnXSA9PT0gJ3RydWUnKSB7XHJcbiAgICAgICRhbGVydC5yZW1vdmUoKVxyXG4gICAgICAkYXVkaW8udHJpZ2dlcigncGxheScpXHJcbiAgICAgICRhdWRpby5wcm9wKCd2b2x1bWUnLCAwLjI1KVxyXG4gICAgICAkdm9sdW1lSWNvbi5hdHRyKCdzcmMnLCAnLi9pbWFnZXMvc291bmQuc3ZnJylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICRhbGVydC5yZW1vdmUoKVxyXG4gICAgICAkYXVkaW8udHJpZ2dlcigncGF1c2UnKVxyXG4gICAgICAkYXVkaW8ucHJvcCgndm9sdW1lJywgMClcclxuICAgICAgJGF1ZGlvLnByb3AoJ2N1cnJlbnRUaW1lJywgJzAnKVxyXG4gICAgICAkdm9sdW1lSWNvbi5hdHRyKCdzcmMnLCAnLi9pbWFnZXMvbXV0ZS5zdmcnKVxyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyAkYWxlcnQucmVtb3ZlKClcclxuICAgICRhdWRpby50cmlnZ2VyKCdwYXVzZScpXHJcbiAgICAkYXVkaW8ucHJvcCgndm9sdW1lJywgMClcclxuICAgICRhdWRpby5wcm9wKCdjdXJyZW50VGltZScsICcwJylcclxuICAgICR2b2x1bWVJY29uLmF0dHIoJ3NyYycsICcnKVxyXG4gIH1cclxuXHJcbiAgJGFsbG93LmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3NvdW5kQWxsb3dlZCcsICd0cnVlJylcclxuICAgICRhbGVydC5yZW1vdmUoKVxyXG4gICAgJGF1ZGlvLnRyaWdnZXIoJ3BsYXknKVxyXG4gICAgJGF1ZGlvLnByb3AoJ3ZvbHVtZScsIDAuMjUpXHJcbiAgICAkdm9sdW1lSWNvbi5hdHRyKCdzcmMnLCAnLi9pbWFnZXMvc291bmQuc3ZnJylcclxuICB9KVxyXG5cclxuICAkZGVjbGluZS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzb3VuZEFsbG93ZWQnLCAnZmFsc2UnKVxyXG4gICAgJHZvbHVtZUljb24uYXR0cignc3JjJywgJy4vaW1hZ2VzL211dGUuc3ZnJylcclxuICAgICRhbGVydC5yZW1vdmUoKVxyXG4gIH0pXHJcblxyXG5cclxuICAkdm9sdW1lSWNvbi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAobG9jYWxTdG9yYWdlWydzb3VuZEFsbG93ZWQnXSA9PT0gJ3RydWUnKSB7XHJcbiAgICAgIGxvY2FsU3RvcmFnZVsnc291bmRBbGxvd2VkJ10gPSAnZmFsc2UnXHJcbiAgICAgICR2b2x1bWVJY29uLmF0dHIoJ3NyYycsICcuL2ltYWdlcy9tdXRlLnN2ZycpXHJcbiAgICAgIHNvdW5kTXV0ZSgpXHJcbiAgICB9IGVsc2UgaWYgKGxvY2FsU3RvcmFnZVsnc291bmRBbGxvd2VkJ10gPT09ICdmYWxzZScpIHtcclxuICAgICAgbG9jYWxTdG9yYWdlWydzb3VuZEFsbG93ZWQnXSA9IHRydWVcclxuICAgICAgJHZvbHVtZUljb24uYXR0cignc3JjJywgJy4vaW1hZ2VzL3NvdW5kLnN2ZycpXHJcbiAgICAgIHNvdW5kVW5tdXRlKClcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKCdJcyBzb3VuZCBhbGxvd2VkJywgbG9jYWxTdG9yYWdlWydzb3VuZEFsbG93ZWQnXSkgXHJcbiAgfSlcclxuXHJcblxyXG5cclxuXHJcbiAgICBjb25zb2xlLmxvZygnSXMgc291bmQgYWxsb3dlZDogJywgbG9jYWxTdG9yYWdlWydzb3VuZEFsbG93ZWQnXSlcclxuXHJcblxyXG5cclxuICAkKCcucGxheWVyJykuZHJhZ2dhYmxlKHtcclxuICAgIGFkZENsYXNzZXM6IGZhbHNlXHJcbiAgfSlcclxuXHJcbn0pXHJcbiIsImZ1bmN0aW9uIGxvY2F0aW9uc0xvYWQobmFtZSkge1xyXG4gIGNvbnNvbGUud2Fybih3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKFwiNDA0XCIpID4gLTEpXHJcbiAgaWYgKCEod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignNDA0JykgPiAtMSkpIHtcclxuICAgICQuYWpheFNldHVwKHtcclxuICAgICAgY2FjaGU6IGZhbHNlXHJcbiAgICB9KVxyXG4gICAgJHJvdXRlckNvbnRhaW5lci5jc3Moe29wYWNpdHk6ICcwJ30pXHJcbiAgICAkcGxheWVyLmNzcyh7b3BhY2l0eTogJzAnfSlcclxuICAgICRyb3V0ZXJDb250YWluZXIubG9hZCgnLi9sb2NhdGlvbnMvJyArIG5hbWUgKyAnLmh0bWwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICRyb3V0ZXJDb250YWluZXIuc3RvcCgpLmFuaW1hdGUoe29wYWNpdHk6ICcxJ30sIDgwMCwgJ3N3aW5nJylcclxuICAgICAgJHBsYXllci5zdG9wKCkuZGVsYXkoODAwKS5jc3Moe29wYWNpdHk6ICcxJ30pXHJcbiAgICAgICQoJyNuYXZNZW51Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCAkdGhpcyA9ICQodGhpcylcclxuICAgICAgICAkdGhpcy50b2dnbGVDbGFzcygnYWN0aXZlJylcclxuICAgICAgfSlcclxuICAgICAgJCgnLm1hcCcpLmRyYWdnYWJsZSh7XHJcbiAgICAgICAgYWRkQ2xhc3NlczogZmFsc2VcclxuICAgICAgfSlcclxuICAgICAgJCgnLmludGVyZXN0LXBvaW50JykuZHJhZ2dhYmxlKHtcclxuICAgICAgICBhZGRDbGFzc2VzOiBmYWxzZVxyXG4gICAgICB9KVxyXG5cclxuICAgIH0pXHJcbiAgfSBlbHNlIHtcclxuICAgICQuYWpheFNldHVwKHtcclxuICAgICAgY2FjaGU6IGZhbHNlXHJcbiAgICB9KVxyXG4gICAgJHJvdXRlckNvbnRhaW5lci5jc3Moe29wYWNpdHk6ICcwJ30pXHJcbiAgICAkcGxheWVyLmNzcyh7b3BhY2l0eTogJzAnfSlcclxuICAgICRyb3V0ZXJDb250YWluZXIubG9hZCgnLi9sb2NhdGlvbnMvJyArIG5hbWUgKyAnLmh0bWwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICRyb3V0ZXJDb250YWluZXIuY3NzKHtvcGFjaXR5OiAnMSd9KVxyXG4gICAgICAkcGxheWVyLnN0b3AoKS5kZWxheSgwKS5jc3Moe29wYWNpdHk6ICcwJ30pXHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG4iLCJsZXQgJGxpbmtzID0gJCgnI2xpbmtzJylcclxuZnVuY3Rpb24gY3JlYXRlTmF2KG5hdkl0ZW1zKSB7XHJcblxyXG59XHJcbiRsaW5rcy5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgZGVsZXRlTmF2KClcclxufSlcclxuZnVuY3Rpb24gZGVsZXRlTmF2KCkge1xyXG4gIC8vICRsaW5rcy5lbXB0eSgpXHJcbn1cclxuXHJcblxyXG4iLCJmdW5jdGlvbiBuZXdTb3VuZChuYW1lKSB7XHJcbiAgY29uc29sZS5sb2coXCJOZXcgU29uZyBuYW1lOlwiLCBuYW1lKVxyXG4gIGxldCBzcmMgPSBcIi4vYXVkaW8vbXVzaWMvXCIgKyBuYW1lICsgXCIubXAzXCI7XHJcbiAgY29uc29sZS5sb2coXCJwYXRoOiBcIiwgc3JjKVxyXG5cclxuICAkYXVkaW8udHJpZ2dlcihcInBhdXNlXCIpXHJcbiAgJGF1ZGlvLnByb3AoXCJjdXJyZW50VGltZVwiLCBcIjBcIilcclxuICAkYXVkaW8uYXR0cignc3JjJywgc3JjKVxyXG4gIFxyXG4gIGNvbnNvbGUubG9nKGBMb2NhbCBTdG9yYWdlICR7bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NvdW5kQWxsb3dlZCcpfWApXHJcbiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzb3VuZEFsbG93ZWQnKSAhPT0gdW5kZWZpbmVkIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzb3VuZEFsbG93ZWQnKSAhPT0gXCJmYWxzZVwiKSB7XHJcbiAgICAkYXVkaW8udHJpZ2dlcigncGxheScpXHJcbiAgfSBlbHNlIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc291bmRBbGxvd2VkJykgPT09IFwiZmFsc2VcIikge1xyXG4gIH1cclxufVxyXG5mdW5jdGlvbiBzb3VuZE11dGUoKSB7XHJcbiAgJGF1ZGlvLnByb3AoXCJ2b2x1bWVcIiwgMClcclxufVxyXG5mdW5jdGlvbiBzb3VuZFVubXV0ZSAoKSB7XHJcbiAgJGF1ZGlvLnByb3AoXCJ2b2x1bWVcIiwgMC4yNSlcclxuICAkYXVkaW8ucHJvcChcImN1cnJlbnRUaW1lXCIsIDApXHJcbiAgJGF1ZGlvLnRyaWdnZXIoJ3BsYXknKVxyXG59XHJcbiIsIiQoZG9jdW1lbnQpLmtleWRvd24oZnVuY3Rpb24oZSl7XHJcbiAgbGV0IHNwZWVkID0gMTcsXHJcbiAgICAgIG1vdmVtZW50ID0gMTVcclxuICAkbWFwID0gJCgnLm1hcCcpXHJcbiAgaWYgKCEod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZihcIjQwNFwiKSA+IC0xKSkge1xyXG4gICAgc3dpdGNoIChlLndoaWNoKSB7XHJcbiAgICAgIC8vbW92ZSB1cFxyXG4gICAgICBjYXNlIDM4OlxyXG4gICAgICBjYXNlIDg3OlxyXG4gICAgICAgIGNvbnNvbGUubG9nKGUuY29kZSArICcgdXAnKVxyXG4gICAgICAgIHVwZGF0ZVBvc2l0aW9uKG51bGwsIC0xICogbW92ZW1lbnQsIHNwZWVkLCAnZWFzZU91dFF1YXJ0JylcclxuICAgICAgYnJlYWtcclxuICAgICAgXHJcbiAgICAgIC8vbW92ZSBkb3duXHJcbiAgICAgIGNhc2UgNDA6XHJcbiAgICAgIGNhc2UgODM6XHJcbiAgICAgICAgY29uc29sZS5sb2coZS5jb2RlICsgJyBkb3duJylcclxuICAgICAgICB1cGRhdGVQb3NpdGlvbihudWxsLCBtb3ZlbWVudCwgc3BlZWQsICdlYXNlT3V0UXVhcnQnKVxyXG4gICAgICBicmVha1xyXG5cclxuICAgICAgLy8gbW92ZSBsZWZ0XHJcbiAgICAgIGNhc2UgMzc6XHJcbiAgICAgIGNhc2UgNjU6XHJcbiAgICAgICAgY29uc29sZS5sb2coZS5jb2RlICsgJyBsZWZ0JylcclxuICAgICAgICB1cGRhdGVQb3NpdGlvbigtMSAqIG1vdmVtZW50LCBudWxsLCBzcGVlZCwgJ2Vhc2VPdXRRdWFydCcpXHJcbiAgICAgIGJyZWFrXHJcbiAgICAgIC8vbW92ZSByaWdodFxyXG4gICAgICBjYXNlIDM5OlxyXG4gICAgICBjYXNlIDY4OlxyXG4gICAgICAgIHVwZGF0ZVBvc2l0aW9uKG1vdmVtZW50LCBudWxsLCBzcGVlZCwgJ2Vhc2VPdXRRdWFydCcpXHJcbiAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgfVxyXG59KVxyXG5cclxuXHJcbmZ1bmN0aW9uIHNldFBvc2l0aW9uKHRhcmdldCwgeCwgeSkge1xyXG4gIGxldCAkdGhpcyA9ICQodGhpcylcclxuICAkdGhpcy50YXJnZXQgPSB0YXJnZXRcclxuICAkdGhpcy5wb3NYID0geFxyXG4gICR0aGlzLnBvc1kgPSB5XHJcblxyXG4gIGlmICgkdGhpcy5wb3NYICE9IG51bGwgJiYgJHRoaXMucG9zWSAhPSBudWxsKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIlBvc2l0aW9uIFhcIiwgJHRoaXMucG9zWClcclxuICAgIGNvbnNvbGUubG9nKFwiUG9zaXRpb24gWVwiLCAkdGhpcy5wb3NZKVxyXG4gICAgJHRoaXMudGFyZ2V0LmNzcyh7XHJcbiAgICAgICdsZWZ0JzogJHRoaXMucG9zWCArICdweCcsXHJcbiAgICAgICd0b3AnOiAkdGhpcy5wb3NZICsgJ3B4J1xyXG4gICAgfSlcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc29sZS53YXJuKFwiVGhlcmUgaXMgYWN0dWFsbHkgYSBudWxsIFggb3IgWS4uLiBIb3BlZnVsbHkgaXRzIGludGVudGlvbmFsLi4uXCIpXHJcbiAgICBpZiAoJHRoaXMucG9zWCAhPSBudWxsKSB7XHJcbiAgICAgICR0aGlzLiR0aGlzLnRhcmdldC5jc3Moe1xyXG4gICAgICAgICdsZWZ0JzogJHRoaXMucG9zWCArICdweCdcclxuICAgICAgfSlcclxuICAgIH1lbHNlIHtcclxuICAgICAgY29uc29sZS53YXJuKFwiWCBpcyByZXR1cm5pbmcgbnVsbFwiKVxyXG4gICAgfVxyXG4gICAgaWYgKCR0aGlzLnBvc1kgIT0gbnVsbCkge1xyXG4gICAgICAkdGhpcy50YXJnZXQuY3NzKHtcclxuICAgICAgICAndG9wJzogJHRoaXMucG9zWSArICdweCdcclxuICAgICAgfSlcclxuICAgIH1lbHNlIHtcclxuICAgICAgY29uc29sZS53YXJuKFwiWSBpcyByZXR1cm5pbmcgbnVsbFwiKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlUG9zaXRpb24oeCwgeSwgZHQsIGVhc2luZykge1xyXG4gIGxldCAkdGhpcyA9ICQodGhpcylcclxuICAkdGhpcy5tb3ZlWCA9IHhcclxuICAkdGhpcy5tb3ZlWSA9IHlcclxuICAkdGhpcy5vZmZzZXRYID0gNVxyXG4gICR0aGlzLm9mZnNldFkgPSA1XHJcbiAgJHRoaXMuZHQgPSBkdFxyXG4gIFxyXG4gIC8vIFggTW92ZW1lbnRcclxuICBpZiAoJHRoaXMubW92ZVggIT0gbnVsbCkge1xyXG4gICAgaWYgKCR0aGlzLm1vdmVYIDwgMCkge1xyXG4gICAgICAkdGhpcy5tb3ZlWCAqPSAtMVxyXG4gICAgICBpZiAoJHBsYXllci5wb3NpdGlvbigpLmxlZnQgPiAxKSB7XHJcbiAgICAgICAgJHBsYXllci5zdG9wKCkuYW5pbWF0ZSh7XHJcbiAgICAgICAgICBsZWZ0OiAnLT0nICsgJHRoaXMubW92ZVggKyAncHgnXHJcbiAgICAgICAgfSwgZHQsIGVhc2luZylcclxuICAgICAgfVxyXG5cclxuICAgICAgJG1hcC5zdG9wKCkuYW5pbWF0ZSh7XHJcbiAgICAgICAgbGVmdDogJys9JyArICgkdGhpcy5tb3ZlWCAtICR0aGlzLm9mZnNldFgpICsgJ3B4J1xyXG4gICAgICB9LCBkdCwgZWFzaW5nKSAgICAgIFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKCRwbGF5ZXIucG9zaXRpb24oKS5sZWZ0IDwgKHdpbmRvdy5pbm5lcldpZHRoLzIpKSB7XHJcbiAgICAgICAgJHBsYXllci5zdG9wKCkuYW5pbWF0ZSh7XHJcbiAgICAgICAgICBsZWZ0OiAnKz0nICsgJHRoaXMubW92ZVggKyAncHgnXHJcbiAgICAgICAgfSwgZHQsIGVhc2luZylcclxuICAgICAgfVxyXG4gICAgICAkbWFwLnN0b3AoKS5hbmltYXRlKHtcclxuICAgICAgICBsZWZ0OiAnLT0nICsgKCR0aGlzLm1vdmVYIC0gJHRoaXMub2Zmc2V0WCkgKyAncHgnXHJcbiAgICAgIH0sIGR0LCBlYXNpbmcpXHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIFkgTW92ZW1lbnRcclxuICBpZiAoJHRoaXMubW92ZVkgIT0gbnVsbCkge1xyXG5cclxuICAgIGlmICgkdGhpcy5tb3ZlWSA8IDApIHtcclxuICAgICAgJHRoaXMubW92ZVkgKj0gLTFcclxuICAgICAgaWYgKCRwbGF5ZXIucG9zaXRpb24oKS50b3AgPiAxKSB7XHJcbiAgICAgICAgJHBsYXllci5zdG9wKCkuYW5pbWF0ZSh7XHJcbiAgICAgICAgICB0b3A6ICctPScgKyAkdGhpcy5tb3ZlWSArICdweCdcclxuICAgICAgICB9LCBkdCwgZWFzaW5nKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAkbWFwLnN0b3AoKS5hbmltYXRlKHtcclxuICAgICAgICB0b3A6ICcrPScgKyAoJHRoaXMubW92ZVkgLSAkdGhpcy5vZmZzZXRZKSArICdweCdcclxuICAgICAgfSwgZHQsIGVhc2luZylcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoJHBsYXllci5wb3NpdGlvbigpLnRvcCA8ICh3aW5kb3cuaW5uZXJIZWlnaHQvMikpIHtcclxuICAgICAgICAkcGxheWVyLnN0b3AoKS5hbmltYXRlKHtcclxuICAgICAgICAgIHRvcDogJys9JyArICR0aGlzLm1vdmVZICsgJ3B4J1xyXG4gICAgICAgIH0sIGR0LCBlYXNpbmcpXHJcbiAgICAgIH1cclxuICAgICAgJG1hcC5zdG9wKCkuYW5pbWF0ZSh7XHJcbiAgICAgICAgdG9wOiAnLT0nICsgKCR0aGlzLm1vdmVZIC0gJHRoaXMub2Zmc2V0WSkgKyAncHgnXHJcbiAgICAgIH0sIGR0LCBlYXNpbmcpXHJcbiAgICAgIFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbn1cclxuIiwibGV0IHJvb3QgPSBudWxsXHJcbmxldCB1c2VIYXNoID0gdHJ1ZSAvLyBEZWZhdWx0cyB0bzogZmFsc2VcclxubGV0IGhhc2ggPSAnIyEnIC8vIERlZmF1bHRzIHRvOiAnIydcclxubGV0IHJvdXRlciA9IG5ldyBOYXZpZ28ocm9vdCwgdXNlSGFzaCwgaGFzaClcclxuXHJcbmZ1bmN0aW9uIHJvdXRlcygpIHtcclxuICByb3V0ZXIub24oZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc29sZS5pbmZvKCdUaGUgVW5kZXJncm91bmQnKVxyXG4gICAgbG9jYXRpb25zTG9hZCgndGhlLXVuZGVyZ3JvdW5kJylcclxuICAgIG5ld1NvdW5kKCdzdGFydCcpXHJcbiAgICBzZXRQb3NpdGlvbigkcGxheWVyLCA2MiwgMzExKVxyXG4gIH0pXHJcbiAgXHJcbiAgcm91dGVyLm5vdEZvdW5kKGZ1bmN0aW9uIChxdWVyeSkge1xyXG4gICAgY29uc29sZS5pbmZvKCc0MDQgcGFnZSBub3QgZm91bmQnKVxyXG4gICAgbG9jYXRpb25zTG9hZCgnc3RheS1kZXRlcm1pbmVkJylcclxuICAgIG5ld1NvdW5kKCdkZXRlcm1pbmF0aW9uJylcclxuICAgIHJvdXRlci5uYXZpZ2F0ZShcIi80MDRcIilcclxuICAgIGRlbGV0ZU5hdigpXHJcbiAgICAkKGRvY3VtZW50KS5rZXlkb3duKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKFwiNDA0XCIpID4gLTEpIHtcclxuICAgICAgICBzZXRQb3NpdGlvbigkcGxheWVyLCA2MiwgMzExKVxyXG4gICAgICAgIHJvdXRlci5uYXZpZ2F0ZShcIi9cIilcclxuXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfSlcclxuICBcclxuICBcclxuICByb3V0ZXJcclxuICAgIC5vbih7XHJcblxyXG4gICAgICAncnVpbnMnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS5pbmZvKCdSdWlucycpXHJcbiAgICAgICAgbG9jYXRpb25zTG9hZCgncnVpbnMnKVxyXG4gICAgICAgIG5ld1NvdW5kKCdydWlucycpXHJcbiAgICAgICAgc2V0UG9zaXRpb24oJHBsYXllciwgNjgwLCAzNzcpXHJcbiAgICAgIH0sXHJcbiAgICAgICdydWlucy9zcGlkZXItYmFrZS1zYWxlJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG5ld1NvdW5kKCdzcGlkZXJkYW5jZScpXHJcbiAgICAgICAgc2V0UG9zaXRpb24oJHBsYXllciwgNjgwLCAzNzcpXHJcbiAgICAgIH0sXHJcbiAgICAgICdzbm93ZGluJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnU25vd2RpbiBGb3Jlc3QnKVxyXG4gICAgICAgIGxvY2F0aW9uc0xvYWQoJ3Nub3dkaW4nKVxyXG4gICAgICAgIG5ld1NvdW5kKCdzbm93ZGluJylcclxuICAgICAgICBzZXRQb3NpdGlvbigkcGxheWVyLCAyNjQsIDQ2OClcclxuICAgICAgfSxcclxuICAgICAgJ3Nub3dkaW4vc25vd21hbic6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZXRQb3NpdGlvbigkKCcubWFwJyksIC01NjM0LCAtNzk0KVxyXG4gICAgICAgIHNldFBvc2l0aW9uKCRwbGF5ZXIsIDc2NCwgMzAwKVxyXG4gICAgICB9LFxyXG4gICAgICAnc25vd2Rpbi9ncmlsbGJ5cyc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZXRQb3NpdGlvbigkKCcubWFwJyksIC0yMTkwOSwgLTI4NzApXHJcbiAgICAgICAgc2V0UG9zaXRpb24oJHBsYXllciwgNzc5LCAzNDUpXHJcbiAgICAgIH0sXHJcbiAgICAgICdzbm93ZGluL3BhcHlydXMtc2Fucy1ob3VzZSc6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgc2V0UG9zaXRpb24oJCgnLm1hcCcpLCAtMjM4MjcsIC0yODg1KVxyXG4gICAgICAgIHNldFBvc2l0aW9uKCRwbGF5ZXIsIDc3OSwgMzQ1KVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgJ3dhdGVyZmFsbCc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmluZm8oJ1dhdGVyZmFsbCcpXHJcbiAgICAgICAgbG9jYXRpb25zTG9hZCgnd2F0ZXJmYWxsJylcclxuICAgICAgICBzZXRQb3NpdGlvbigkcGxheWVyLCA0NzUsIDM2NSlcclxuICAgICAgICBuZXdTb3VuZCgnd2F0ZXJmYWxsJylcclxuICAgICAgfSxcclxuICAgICAgJ3dhdGVyZmFsbC90ZW1taWUnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS5pbmZvKCdUZW1taWUnKVxyXG4gICAgICAgIHNldFBvc2l0aW9uKCQoJy5tYXAnKSwgLTE0NTk2LCAtNTQ4OClcclxuICAgICAgICBzZXRQb3NpdGlvbigkcGxheWVyLCA3NTMsIDM3NSlcclxuICAgICAgICBuZXdTb3VuZCgndGVtbWllJylcclxuICAgICAgfSxcclxuXHJcbiAgICAgICdob3RsYW5kJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnSG90bGFuZCcpXHJcbiAgICAgICAgbG9jYXRpb25zTG9hZCgnaG90bGFuZCcpXHJcbiAgICAgICAgc2V0UG9zaXRpb24oJHBsYXllciwgMjU4LCA0MzIpXHJcbiAgICAgICAgbmV3U291bmQoJ2hvdGxhbmQnKVxyXG4gICAgICB9LFxyXG4gICAgICAnaG90bGFuZC9hbHBoeSc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZXRQb3NpdGlvbigkcGxheWVyLCA3NjgsIDM2OS4yNDYpXHJcbiAgICAgICAgc2V0UG9zaXRpb24oJCgnLm1hcCcpLCAtNDc1OC45NywgLTY2NTguNTYpXHJcbiAgICAgICAgbmV3U291bmQoJ2FscGh5cycpXHJcbiAgICAgIH0sXHJcbiAgICAgICd0aGUtY29yZSc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmluZm8oJ1RoZSBDb3JlJylcclxuICAgICAgICBsb2NhdGlvbnNMb2FkKCd0aGUtY29yZScpXHJcbiAgICAgICAgbmV3U291bmQoJ3RoZS1jb3JlJylcclxuICAgICAgfSxcclxuICAgICAgJ25ldy1ob21lJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnTmV3IEhvbWUnKVxyXG4gICAgICAgIGxvY2F0aW9uc0xvYWQoJ25ldy1ob21lJylcclxuICAgICAgICBuZXdTb3VuZCgnaGlzLXRoZW1lJylcclxuICAgICAgfVxyXG4gICAgfSkucmVzb2x2ZSgpXHJcbiAgXHJcbn1cclxuIl19
