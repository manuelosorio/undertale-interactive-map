"use strict";

var $audio = $('#audio'),
    $volumeIcon = $('#volumeIcon'),
    $player = $('.player'),
    $routerContainer = $('.router--container'),
    $menu = $('.nav--menu');
var $map = undefined;
$(document).ready(function () {
  routes();
  var $audio = $('#audio'),
      $muteButton = $('.icon'),
      $volumeIcon = $('#volumeIcon'); //alert variables

  var $alert = $('.alert'),
      $allow = $('#allow'),
      $decline = $('#decline');

  if (localStorage['soundAllowed'] !== undefined) {
    var isSoundAllowed = localStorage.getItem('soundAllowed');

    if (localStorage['soundAllowed'] === 'true') {
      $alert.remove();
      $audio.trigger('play');
      $audio.prop('volume', 0.25);
      $volumeIcon.attr('src', './images/sound.svg');
    } else {
      $alert.remove();
      $audio.trigger('pause');
      $audio.prop('volume', 0);
      $audio.prop('currentTime', '0');
      $volumeIcon.attr('src', './images/mute.svg');
    }
  } else {
    // $alert.remove()
    $audio.trigger('pause');
    $audio.prop('volume', 0);
    $audio.prop('currentTime', '0');
    $volumeIcon.attr('src', '');
  }

  $allow.click(function () {
    localStorage.setItem('soundAllowed', 'true');
    $alert.remove();
    $audio.trigger('play');
    $audio.prop('volume', 0.25);
    $volumeIcon.attr('src', './images/sound.svg');
  });
  $decline.click(function () {
    localStorage.setItem('soundAllowed', 'false');
    $volumeIcon.attr('src', './images/mute.svg');
    $alert.remove();
  });
  $volumeIcon.click(function () {
    if (localStorage['soundAllowed'] === 'true') {
      localStorage['soundAllowed'] = 'false';
      $volumeIcon.attr('src', './images/mute.svg');
      soundMute();
    } else if (localStorage['soundAllowed'] === 'false') {
      localStorage['soundAllowed'] = true;
      $volumeIcon.attr('src', './images/sound.svg');
      soundUnmute();
    }

    console.log('Is sound allowed', localStorage['soundAllowed']);
  });
  console.log('Is sound allowed: ', localStorage['soundAllowed']);
  $('.player').draggable({
    addClasses: false
  });
});

function locationsLoad(name) {
  console.warn(window.location.href.indexOf("404") > -1);

  if (!(window.location.href.indexOf('404') > -1)) {
    $.ajaxSetup({
      cache: false
    });
    $routerContainer.css({
      opacity: '0'
    });
    $player.css({
      opacity: '0'
    });
    $routerContainer.load('./locations/' + name + '.html', function () {
      $routerContainer.stop().animate({
        opacity: '1'
      }, 800, 'swing');
      $player.stop().delay(800).css({
        opacity: '1'
      });
      $('#navMenu').on('click', function () {
        var $this = $(this);
        $this.toggleClass('active');
      });
      $('.map').draggable({
        addClasses: false
      });
      $('.interest-point').draggable({
        addClasses: false
      });
    });
  } else {
    $.ajaxSetup({
      cache: false
    });
    $routerContainer.css({
      opacity: '0'
    });
    $player.css({
      opacity: '0'
    });
    $routerContainer.load('./locations/' + name + '.html', function () {
      $routerContainer.css({
        opacity: '1'
      });
      $player.stop().delay(0).css({
        opacity: '0'
      });
    });
  }
}

var $links = $('#links');

function createNav(navItems) {}

$links.click(function () {
  deleteNav();
});

function deleteNav() {// $links.empty()
}

function newSound(name) {
  console.log("New Song name:", name);
  var src = "./audio/music/" + name + ".mp3";
  console.log("path: ", src);
  $audio.trigger("pause");
  $audio.prop("currentTime", "0");
  $audio.attr('src', src);
  console.log("Local Storage ".concat(localStorage.getItem('soundAllowed')));

  if (localStorage.getItem('soundAllowed') !== undefined || localStorage.getItem('soundAllowed') !== "false") {
    $audio.trigger('play');
  } else if (localStorage.getItem('soundAllowed') === "false") {}
}

function soundMute() {
  $audio.prop("volume", 0);
}

function soundUnmute() {
  $audio.prop("volume", 0.25);
  $audio.prop("currentTime", 0);
  $audio.trigger('play');
}

$(document).keydown(function (e) {
  var speed = 17,
      movement = 15;
  $map = $('.map');

  if (!(window.location.href.indexOf("404") > -1)) {
    switch (e.which) {
      //move up
      case 38:
      case 87:
        console.log(e.code + ' up');
        updatePosition(null, -1 * movement, speed, 'easeOutQuart');
        break;
      //move down

      case 40:
      case 83:
        console.log(e.code + ' down');
        updatePosition(null, movement, speed, 'easeOutQuart');
        break;
      // move left

      case 37:
      case 65:
        console.log(e.code + ' left');
        updatePosition(-1 * movement, null, speed, 'easeOutQuart');
        break;
      //move right

      case 39:
      case 68:
        updatePosition(movement, null, speed, 'easeOutQuart');
        break;
    }
  }
});

function setPosition(target, x, y) {
  var $this = $(this);
  $this.target = target;
  $this.posX = x;
  $this.posY = y;

  if ($this.posX != null && $this.posY != null) {
    console.log("Position X", $this.posX);
    console.log("Position Y", $this.posY);
    $this.target.css({
      'left': $this.posX + 'px',
      'top': $this.posY + 'px'
    });
  } else {
    console.warn("There is actually a null X or Y... Hopefully its intentional...");

    if ($this.posX != null) {
      $this.$this.target.css({
        'left': $this.posX + 'px'
      });
    } else {
      console.warn("X is returning null");
    }

    if ($this.posY != null) {
      $this.target.css({
        'top': $this.posY + 'px'
      });
    } else {
      console.warn("Y is returning null");
    }
  }
}

function updatePosition(x, y, dt, easing) {
  var $this = $(this);
  $this.moveX = x;
  $this.moveY = y;
  $this.offsetX = 5;
  $this.offsetY = 5;
  $this.dt = dt; // X Movement

  if ($this.moveX != null) {
    if ($this.moveX < 0) {
      $this.moveX *= -1;

      if ($player.position().left > 1) {
        $player.stop().animate({
          left: '-=' + $this.moveX + 'px'
        }, dt, easing);
      }

      $map.stop().animate({
        left: '+=' + ($this.moveX - $this.offsetX) + 'px'
      }, dt, easing);
    } else {
      if ($player.position().left < window.innerWidth / 2) {
        $player.stop().animate({
          left: '+=' + $this.moveX + 'px'
        }, dt, easing);
      }

      $map.stop().animate({
        left: '-=' + ($this.moveX - $this.offsetX) + 'px'
      }, dt, easing);
    }
  } // Y Movement


  if ($this.moveY != null) {
    if ($this.moveY < 0) {
      $this.moveY *= -1;

      if ($player.position().top > 1) {
        $player.stop().animate({
          top: '-=' + $this.moveY + 'px'
        }, dt, easing);
      }

      $map.stop().animate({
        top: '+=' + ($this.moveY - $this.offsetY) + 'px'
      }, dt, easing);
    } else {
      if ($player.position().top < window.innerHeight / 2) {
        $player.stop().animate({
          top: '+=' + $this.moveY + 'px'
        }, dt, easing);
      }

      $map.stop().animate({
        top: '-=' + ($this.moveY - $this.offsetY) + 'px'
      }, dt, easing);
    }
  }
}

var root = null;
var useHash = true; // Defaults to: false

var hash = '#!'; // Defaults to: '#'

var router = new Navigo(root, useHash, hash);

function routes() {
  router.on(function () {
    console.info('The Underground');
    locationsLoad('the-underground');
    newSound('start');
    setPosition($player, 62, 311);
  });
  router.notFound(function (query) {
    console.info('404 page not found');
    locationsLoad('stay-determined');
    newSound('determination');
    router.navigate("/404");
    deleteNav();
    $(document).keydown(function (e) {
      if (window.location.href.indexOf("404") > -1) {
        setPosition($player, 62, 311);
        router.navigate("/");
      }
    });
  });
  router.on({
    'ruins': function ruins() {
      console.info('Ruins');
      locationsLoad('ruins');
      newSound('ruins');
      setPosition($player, 680, 377);
    },
    'snowdin': function snowdin() {
      console.info('Snowdin Forest');
      locationsLoad('snowdin');
      newSound('snowdin');
      setPosition($player, 264, 468);
    },
    'snowdin/snowman': function snowdinSnowman() {
      setPosition($('.map'), -5634, -794);
      setPosition($player, 764, 300);
    },
    'snowdin/grillbys': function snowdinGrillbys() {
      setPosition($('.map'), -21909, -2870);
      setPosition($player, 779, 345);
    },
    'snowdin/papyrus-sans-house': function snowdinPapyrusSansHouse() {
      setPosition($('.map'), -23827, -2885);
      setPosition($player, 779, 345);
    },
    'waterfall': function waterfall() {
      console.info('Waterfall');
      locationsLoad('waterfall');
      setPosition($player, 475, 365);
      newSound('waterfall');
    },
    'waterfall/temmie': function waterfallTemmie() {
      console.info('Temmie');
      setPosition($('.map'), -14596, -5488);
      setPosition($player, 753, 375);
      newSound('temmie');
    },
    'hotland': function hotland() {
      console.info('Hotland');
      locationsLoad('hotland');
      setPosition($player, 258, 432);
      newSound('hotland');
    },
    'hotland/alphy': function hotlandAlphy() {
      setPosition($player, 768, 369.246);
      setPosition($('.map'), -4758.97, -6658.56);
      newSound('alphys');
    },
    'the-core': function theCore() {
      console.info('The Core');
      locationsLoad('the-core');
      newSound('the-core');
    },
    'new-home': function newHome() {
      console.info('New Home');
      locationsLoad('new-home');
      newSound('');
    }
  }).resolve();
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyIsIm1vZHVsZXMvbG9jYXRpb25zLmpzIiwibW9kdWxlcy9uYXZpZ2F0aW9uLmpzIiwibW9kdWxlcy9uZXdTb3VuZC5qcyIsIm1vZHVsZXMvcGxheWVyTW92ZW1lbnQuanMiLCJtb2R1bGVzL3JvdXRlcy5qcyJdLCJuYW1lcyI6WyIkYXVkaW8iLCIkIiwiJHZvbHVtZUljb24iLCIkcGxheWVyIiwiJHJvdXRlckNvbnRhaW5lciIsIiRtZW51IiwiJG1hcCIsInVuZGVmaW5lZCIsImRvY3VtZW50IiwicmVhZHkiLCJyb3V0ZXMiLCIkbXV0ZUJ1dHRvbiIsIiRhbGVydCIsIiRhbGxvdyIsIiRkZWNsaW5lIiwibG9jYWxTdG9yYWdlIiwiaXNTb3VuZEFsbG93ZWQiLCJnZXRJdGVtIiwicmVtb3ZlIiwidHJpZ2dlciIsInByb3AiLCJhdHRyIiwiY2xpY2siLCJzZXRJdGVtIiwic291bmRNdXRlIiwic291bmRVbm11dGUiLCJjb25zb2xlIiwibG9nIiwiZHJhZ2dhYmxlIiwiYWRkQ2xhc3NlcyIsImxvY2F0aW9uc0xvYWQiLCJuYW1lIiwid2FybiIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImluZGV4T2YiLCJhamF4U2V0dXAiLCJjYWNoZSIsImNzcyIsIm9wYWNpdHkiLCJsb2FkIiwic3RvcCIsImFuaW1hdGUiLCJkZWxheSIsIm9uIiwiJHRoaXMiLCJ0b2dnbGVDbGFzcyIsIiRsaW5rcyIsImNyZWF0ZU5hdiIsIm5hdkl0ZW1zIiwiZGVsZXRlTmF2IiwibmV3U291bmQiLCJzcmMiLCJrZXlkb3duIiwiZSIsInNwZWVkIiwibW92ZW1lbnQiLCJ3aGljaCIsImNvZGUiLCJ1cGRhdGVQb3NpdGlvbiIsInNldFBvc2l0aW9uIiwidGFyZ2V0IiwieCIsInkiLCJwb3NYIiwicG9zWSIsImR0IiwiZWFzaW5nIiwibW92ZVgiLCJtb3ZlWSIsIm9mZnNldFgiLCJvZmZzZXRZIiwicG9zaXRpb24iLCJsZWZ0IiwiaW5uZXJXaWR0aCIsInRvcCIsImlubmVySGVpZ2h0Iiwicm9vdCIsInVzZUhhc2giLCJoYXNoIiwicm91dGVyIiwiTmF2aWdvIiwiaW5mbyIsIm5vdEZvdW5kIiwicXVlcnkiLCJuYXZpZ2F0ZSIsInJlc29sdmUiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxDQUFBLENBQUEsUUFBQSxDQUFBO0FBQUEsSUFDQUMsV0FBQSxHQUFBRCxDQUFBLENBQUEsYUFBQSxDQURBO0FBQUEsSUFFQUUsT0FBQSxHQUFBRixDQUFBLENBQUEsU0FBQSxDQUZBO0FBQUEsSUFHQUcsZ0JBQUEsR0FBQUgsQ0FBQSxDQUFBLG9CQUFBLENBSEE7QUFBQSxJQUlBSSxLQUFBLEdBQUFKLENBQUEsQ0FBQSxZQUFBLENBSkE7QUFLQSxJQUFBSyxJQUFBLEdBQUFDLFNBQUE7QUFDQU4sQ0FBQSxDQUFBTyxRQUFBLENBQUEsQ0FBQUMsS0FBQSxDQUFBLFlBQUE7QUFDQUMsRUFBQUEsTUFBQTtBQUNBLE1BQUFWLE1BQUEsR0FBQUMsQ0FBQSxDQUFBLFFBQUEsQ0FBQTtBQUFBLE1BQ0FVLFdBQUEsR0FBQVYsQ0FBQSxDQUFBLE9BQUEsQ0FEQTtBQUFBLE1BRUFDLFdBQUEsR0FBQUQsQ0FBQSxDQUFBLGFBQUEsQ0FGQSxDQUZBLENBTUE7O0FBQ0EsTUFBQVcsTUFBQSxHQUFBWCxDQUFBLENBQUEsUUFBQSxDQUFBO0FBQUEsTUFDQVksTUFBQSxHQUFBWixDQUFBLENBQUEsUUFBQSxDQURBO0FBQUEsTUFFQWEsUUFBQSxHQUFBYixDQUFBLENBQUEsVUFBQSxDQUZBOztBQUlBLE1BQUFjLFlBQUEsQ0FBQSxjQUFBLENBQUEsS0FBQVIsU0FBQSxFQUFBO0FBQ0EsUUFBQVMsY0FBQSxHQUFBRCxZQUFBLENBQUFFLE9BQUEsQ0FBQSxjQUFBLENBQUE7O0FBQ0EsUUFBQUYsWUFBQSxDQUFBLGNBQUEsQ0FBQSxLQUFBLE1BQUEsRUFBQTtBQUNBSCxNQUFBQSxNQUFBLENBQUFNLE1BQUE7QUFDQWxCLE1BQUFBLE1BQUEsQ0FBQW1CLE9BQUEsQ0FBQSxNQUFBO0FB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QUFBO0FBQ0FyRCxNQUFBQSxhQUFBLENBQUEsVUFBQSxDQUFBO0FBQ0FzQixNQUFBQSxRQUFBLENBQUEsVUFBQSxDQUFBO0FBQ0EsS0F6REE7QUEwREEsZ0JBQUEsbUJBQUE7QUFDQTFCLE1BQUFBLE9BQUEsQ0FBQXlELElBQUEsQ0FBQSxVQUFBO0FBQ0FyRCxNQUFBQSxhQUFBLENBQUEsVUFBQSxDQUFBO0FBQ0FzQixNQUFBQSxRQUFBLENBQUEsRUFBQSxDQUFBO0FBQ0E7QUE5REEsR0FEQSxFQWdFQW1DLE9BaEVBO0FBa0VBIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0ICRhdWRpbyA9ICQoJyNhdWRpbycpLFxyXG4gICAgICAkdm9sdW1lSWNvbiA9ICQoJyN2b2x1bWVJY29uJyksXHJcbiAgICAgICRwbGF5ZXIgPSAkKCcucGxheWVyJyksXHJcbiAgICAgICRyb3V0ZXJDb250YWluZXIgPSAkKCcucm91dGVyLS1jb250YWluZXInKSxcclxuICAgICAgJG1lbnUgPSAkKCcubmF2LS1tZW51JylcclxuICBsZXQgJG1hcCA9IHVuZGVmaW5lZFxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgcm91dGVzKClcclxuICBjb25zdCAkYXVkaW8gPSAkKCcjYXVkaW8nKSxcclxuICAgICAgICAkbXV0ZUJ1dHRvbiA9ICQoJy5pY29uJyksXHJcbiAgICAgICAgJHZvbHVtZUljb24gPSAkKCcjdm9sdW1lSWNvbicpXHJcblxyXG4gIC8vYWxlcnQgdmFyaWFibGVzXHJcbiAgY29uc3QgJGFsZXJ0ID0gJCgnLmFsZXJ0JyksXHJcbiAgICAgICAgJGFsbG93ID0gJCgnI2FsbG93JyksXHJcbiAgICAgICAgJGRlY2xpbmUgPSAkKCcjZGVjbGluZScpXHJcblxyXG4gIGlmIChsb2NhbFN0b3JhZ2VbJ3NvdW5kQWxsb3dlZCddICE9PSB1bmRlZmluZWQpIHtcclxuICAgIGxldCBpc1NvdW5kQWxsb3dlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzb3VuZEFsbG93ZWQnKVxyXG4gICAgaWYgKGxvY2FsU3RvcmFnZVsnc291bmRBbGxvd2VkJ10gPT09ICd0cnVlJykge1xyXG4gICAgICAkYWxlcnQucmVtb3ZlKClcclxuICAgICAgJGF1ZGlvLnRyaWdnZXIoJ3BsYXknKVxyXG4gICAgICAkYXVkaW8ucHJvcCgndm9sdW1lJywgMC4yNSlcclxuICAgICAgJHZvbHVtZUljb24uYXR0cignc3JjJywgJy4vaW1hZ2VzL3NvdW5kLnN2ZycpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkYWxlcnQucmVtb3ZlKClcclxuICAgICAgJGF1ZGlvLnRyaWdnZXIoJ3BhdXNlJylcclxuICAgICAgJGF1ZGlvLnByb3AoJ3ZvbHVtZScsIDApXHJcbiAgICAgICRhdWRpby5wcm9wKCdjdXJyZW50VGltZScsICcwJylcclxuICAgICAgJHZvbHVtZUljb24uYXR0cignc3JjJywgJy4vaW1hZ2VzL211dGUuc3ZnJylcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgLy8gJGFsZXJ0LnJlbW92ZSgpXHJcbiAgICAkYXVkaW8udHJpZ2dlcigncGF1c2UnKVxyXG4gICAgJGF1ZGlvLnByb3AoJ3ZvbHVtZScsIDApXHJcbiAgICAkYXVkaW8ucHJvcCgnY3VycmVudFRpbWUnLCAnMCcpXHJcbiAgICAkdm9sdW1lSWNvbi5hdHRyKCdzcmMnLCAnJylcclxuICB9XHJcblxyXG4gICRhbGxvdy5jbGljayhmdW5jdGlvbigpIHtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzb3VuZEFsbG93ZWQnLCAndHJ1ZScpXHJcbiAgICAkYWxlcnQucmVtb3ZlKClcclxuICAgICRhdWRpby50cmlnZ2VyKCdwbGF5JylcclxuICAgICRhdWRpby5wcm9wKCd2b2x1bWUnLCAwLjI1KVxyXG4gICAgJHZvbHVtZUljb24uYXR0cignc3JjJywgJy4vaW1hZ2VzL3NvdW5kLnN2ZycpXHJcbiAgfSlcclxuXHJcbiAgJGRlY2xpbmUuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc291bmRBbGxvd2VkJywgJ2ZhbHNlJylcclxuICAgICR2b2x1bWVJY29uLmF0dHIoJ3NyYycsICcuL2ltYWdlcy9tdXRlLnN2ZycpXHJcbiAgICAkYWxlcnQucmVtb3ZlKClcclxuICB9KVxyXG5cclxuXHJcbiAgJHZvbHVtZUljb24uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKGxvY2FsU3RvcmFnZVsnc291bmRBbGxvd2VkJ10gPT09ICd0cnVlJykge1xyXG4gICAgICBsb2NhbFN0b3JhZ2VbJ3NvdW5kQWxsb3dlZCddID0gJ2ZhbHNlJ1xyXG4gICAgICAkdm9sdW1lSWNvbi5hdHRyKCdzcmMnLCAnLi9pbWFnZXMvbXV0ZS5zdmcnKVxyXG4gICAgICBzb3VuZE11dGUoKVxyXG4gICAgfSBlbHNlIGlmIChsb2NhbFN0b3JhZ2VbJ3NvdW5kQWxsb3dlZCddID09PSAnZmFsc2UnKSB7XHJcbiAgICAgIGxvY2FsU3RvcmFnZVsnc291bmRBbGxvd2VkJ10gPSB0cnVlXHJcbiAgICAgICR2b2x1bWVJY29uLmF0dHIoJ3NyYycsICcuL2ltYWdlcy9zb3VuZC5zdmcnKVxyXG4gICAgICBzb3VuZFVubXV0ZSgpXHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZygnSXMgc291bmQgYWxsb3dlZCcsIGxvY2FsU3RvcmFnZVsnc291bmRBbGxvd2VkJ10pIFxyXG4gIH0pXHJcblxyXG5cclxuXHJcblxyXG4gICAgY29uc29sZS5sb2coJ0lzIHNvdW5kIGFsbG93ZWQ6ICcsIGxvY2FsU3RvcmFnZVsnc291bmRBbGxvd2VkJ10pXHJcblxyXG5cclxuXHJcbiAgJCgnLnBsYXllcicpLmRyYWdnYWJsZSh7XHJcbiAgICBhZGRDbGFzc2VzOiBmYWxzZVxyXG4gIH0pXHJcblxyXG59KVxyXG4iLCJmdW5jdGlvbiBsb2NhdGlvbnNMb2FkKG5hbWUpIHtcclxuICBjb25zb2xlLndhcm4od2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZihcIjQwNFwiKSA+IC0xKVxyXG4gIGlmICghKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJzQwNCcpID4gLTEpKSB7XHJcbiAgICAkLmFqYXhTZXR1cCh7XHJcbiAgICAgIGNhY2hlOiBmYWxzZVxyXG4gICAgfSlcclxuICAgICRyb3V0ZXJDb250YWluZXIuY3NzKHtvcGFjaXR5OiAnMCd9KVxyXG4gICAgJHBsYXllci5jc3Moe29wYWNpdHk6ICcwJ30pXHJcbiAgICAkcm91dGVyQ29udGFpbmVyLmxvYWQoJy4vbG9jYXRpb25zLycgKyBuYW1lICsgJy5odG1sJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAkcm91dGVyQ29udGFpbmVyLnN0b3AoKS5hbmltYXRlKHtvcGFjaXR5OiAnMSd9LCA4MDAsICdzd2luZycpXHJcbiAgICAgICRwbGF5ZXIuc3RvcCgpLmRlbGF5KDgwMCkuY3NzKHtvcGFjaXR5OiAnMSd9KVxyXG4gICAgICAkKCcjbmF2TWVudScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgJHRoaXMgPSAkKHRoaXMpXHJcbiAgICAgICAgJHRoaXMudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgIH0pXHJcbiAgICAgICQoJy5tYXAnKS5kcmFnZ2FibGUoe1xyXG4gICAgICAgIGFkZENsYXNzZXM6IGZhbHNlXHJcbiAgICAgIH0pXHJcbiAgICAgICQoJy5pbnRlcmVzdC1wb2ludCcpLmRyYWdnYWJsZSh7XHJcbiAgICAgICAgYWRkQ2xhc3NlczogZmFsc2VcclxuICAgICAgfSlcclxuXHJcbiAgICB9KVxyXG4gIH0gZWxzZSB7XHJcbiAgICAkLmFqYXhTZXR1cCh7XHJcbiAgICAgIGNhY2hlOiBmYWxzZVxyXG4gICAgfSlcclxuICAgICRyb3V0ZXJDb250YWluZXIuY3NzKHtvcGFjaXR5OiAnMCd9KVxyXG4gICAgJHBsYXllci5jc3Moe29wYWNpdHk6ICcwJ30pXHJcbiAgICAkcm91dGVyQ29udGFpbmVyLmxvYWQoJy4vbG9jYXRpb25zLycgKyBuYW1lICsgJy5odG1sJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAkcm91dGVyQ29udGFpbmVyLmNzcyh7b3BhY2l0eTogJzEnfSlcclxuICAgICAgJHBsYXllci5zdG9wKCkuZGVsYXkoMCkuY3NzKHtvcGFjaXR5OiAnMCd9KVxyXG4gICAgfSlcclxuICB9XHJcbn1cclxuIiwibGV0ICRsaW5rcyA9ICQoJyNsaW5rcycpXHJcbmZ1bmN0aW9uIGNyZWF0ZU5hdihuYXZJdGVtcykge1xyXG5cclxufVxyXG4kbGlua3MuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gIGRlbGV0ZU5hdigpXHJcbn0pXHJcbmZ1bmN0aW9uIGRlbGV0ZU5hdigpIHtcclxuICAvLyAkbGlua3MuZW1wdHkoKVxyXG59XHJcblxyXG5cclxuIiwiZnVuY3Rpb24gbmV3U291bmQobmFtZSkge1xyXG4gIGNvbnNvbGUubG9nKFwiTmV3IFNvbmcgbmFtZTpcIiwgbmFtZSlcclxuICBsZXQgc3JjID0gXCIuL2F1ZGlvL211c2ljL1wiICsgbmFtZSArIFwiLm1wM1wiO1xyXG4gIGNvbnNvbGUubG9nKFwicGF0aDogXCIsIHNyYylcclxuXHJcbiAgJGF1ZGlvLnRyaWdnZXIoXCJwYXVzZVwiKVxyXG4gICRhdWRpby5wcm9wKFwiY3VycmVudFRpbWVcIiwgXCIwXCIpXHJcbiAgJGF1ZGlvLmF0dHIoJ3NyYycsIHNyYylcclxuICBcclxuICBjb25zb2xlLmxvZyhgTG9jYWwgU3RvcmFnZSAke2xvY2FsU3RvcmFnZS5nZXRJdGVtKCdzb3VuZEFsbG93ZWQnKX1gKVxyXG4gIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc291bmRBbGxvd2VkJykgIT09IHVuZGVmaW5lZCB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc291bmRBbGxvd2VkJykgIT09IFwiZmFsc2VcIikge1xyXG4gICAgJGF1ZGlvLnRyaWdnZXIoJ3BsYXknKVxyXG4gIH0gZWxzZSBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NvdW5kQWxsb3dlZCcpID09PSBcImZhbHNlXCIpIHtcclxuICB9XHJcbn1cclxuZnVuY3Rpb24gc291bmRNdXRlKCkge1xyXG4gICRhdWRpby5wcm9wKFwidm9sdW1lXCIsIDApXHJcbn1cclxuZnVuY3Rpb24gc291bmRVbm11dGUgKCkge1xyXG4gICRhdWRpby5wcm9wKFwidm9sdW1lXCIsIDAuMjUpXHJcbiAgJGF1ZGlvLnByb3AoXCJjdXJyZW50VGltZVwiLCAwKVxyXG4gICRhdWRpby50cmlnZ2VyKCdwbGF5JylcclxufVxyXG4iLCIkKGRvY3VtZW50KS5rZXlkb3duKGZ1bmN0aW9uKGUpe1xyXG4gIGxldCBzcGVlZCA9IDE3LFxyXG4gICAgICBtb3ZlbWVudCA9IDE1XHJcbiAgJG1hcCA9ICQoJy5tYXAnKVxyXG4gIGlmICghKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCI0MDRcIikgPiAtMSkpIHtcclxuICAgIHN3aXRjaCAoZS53aGljaCkge1xyXG4gICAgICAvL21vdmUgdXBcclxuICAgICAgY2FzZSAzODpcclxuICAgICAgY2FzZSA4NzpcclxuICAgICAgICBjb25zb2xlLmxvZyhlLmNvZGUgKyAnIHVwJylcclxuICAgICAgICB1cGRhdGVQb3NpdGlvbihudWxsLCAtMSAqIG1vdmVtZW50LCBzcGVlZCwgJ2Vhc2VPdXRRdWFydCcpXHJcbiAgICAgIGJyZWFrXHJcbiAgICAgIFxyXG4gICAgICAvL21vdmUgZG93blxyXG4gICAgICBjYXNlIDQwOlxyXG4gICAgICBjYXNlIDgzOlxyXG4gICAgICAgIGNvbnNvbGUubG9nKGUuY29kZSArICcgZG93bicpXHJcbiAgICAgICAgdXBkYXRlUG9zaXRpb24obnVsbCwgbW92ZW1lbnQsIHNwZWVkLCAnZWFzZU91dFF1YXJ0JylcclxuICAgICAgYnJlYWtcclxuXHJcbiAgICAgIC8vIG1vdmUgbGVmdFxyXG4gICAgICBjYXNlIDM3OlxyXG4gICAgICBjYXNlIDY1OlxyXG4gICAgICAgIGNvbnNvbGUubG9nKGUuY29kZSArICcgbGVmdCcpXHJcbiAgICAgICAgdXBkYXRlUG9zaXRpb24oLTEgKiBtb3ZlbWVudCwgbnVsbCwgc3BlZWQsICdlYXNlT3V0UXVhcnQnKVxyXG4gICAgICBicmVha1xyXG4gICAgICAvL21vdmUgcmlnaHRcclxuICAgICAgY2FzZSAzOTpcclxuICAgICAgY2FzZSA2ODpcclxuICAgICAgICB1cGRhdGVQb3NpdGlvbihtb3ZlbWVudCwgbnVsbCwgc3BlZWQsICdlYXNlT3V0UXVhcnQnKVxyXG4gICAgICBicmVha1xyXG4gICAgfVxyXG4gIH1cclxufSlcclxuXHJcblxyXG5mdW5jdGlvbiBzZXRQb3NpdGlvbih0YXJnZXQsIHgsIHkpIHtcclxuICBsZXQgJHRoaXMgPSAkKHRoaXMpXHJcbiAgJHRoaXMudGFyZ2V0ID0gdGFyZ2V0XHJcbiAgJHRoaXMucG9zWCA9IHhcclxuICAkdGhpcy5wb3NZID0geVxyXG5cclxuICBpZiAoJHRoaXMucG9zWCAhPSBudWxsICYmICR0aGlzLnBvc1kgIT0gbnVsbCkge1xyXG4gICAgY29uc29sZS5sb2coXCJQb3NpdGlvbiBYXCIsICR0aGlzLnBvc1gpXHJcbiAgICBjb25zb2xlLmxvZyhcIlBvc2l0aW9uIFlcIiwgJHRoaXMucG9zWSlcclxuICAgICR0aGlzLnRhcmdldC5jc3Moe1xyXG4gICAgICAnbGVmdCc6ICR0aGlzLnBvc1ggKyAncHgnLFxyXG4gICAgICAndG9wJzogJHRoaXMucG9zWSArICdweCdcclxuICAgIH0pXHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnNvbGUud2FybihcIlRoZXJlIGlzIGFjdHVhbGx5IGEgbnVsbCBYIG9yIFkuLi4gSG9wZWZ1bGx5IGl0cyBpbnRlbnRpb25hbC4uLlwiKVxyXG4gICAgaWYgKCR0aGlzLnBvc1ggIT0gbnVsbCkge1xyXG4gICAgICAkdGhpcy4kdGhpcy50YXJnZXQuY3NzKHtcclxuICAgICAgICAnbGVmdCc6ICR0aGlzLnBvc1ggKyAncHgnXHJcbiAgICAgIH0pXHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihcIlggaXMgcmV0dXJuaW5nIG51bGxcIilcclxuICAgIH1cclxuICAgIGlmICgkdGhpcy5wb3NZICE9IG51bGwpIHtcclxuICAgICAgJHRoaXMudGFyZ2V0LmNzcyh7XHJcbiAgICAgICAgJ3RvcCc6ICR0aGlzLnBvc1kgKyAncHgnXHJcbiAgICAgIH0pXHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihcIlkgaXMgcmV0dXJuaW5nIG51bGxcIilcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVBvc2l0aW9uKHgsIHksIGR0LCBlYXNpbmcpIHtcclxuICBsZXQgJHRoaXMgPSAkKHRoaXMpXHJcbiAgJHRoaXMubW92ZVggPSB4XHJcbiAgJHRoaXMubW92ZVkgPSB5XHJcbiAgJHRoaXMub2Zmc2V0WCA9IDVcclxuICAkdGhpcy5vZmZzZXRZID0gNVxyXG4gICR0aGlzLmR0ID0gZHRcclxuICBcclxuICAvLyBYIE1vdmVtZW50XHJcbiAgaWYgKCR0aGlzLm1vdmVYICE9IG51bGwpIHtcclxuICAgIGlmICgkdGhpcy5tb3ZlWCA8IDApIHtcclxuICAgICAgJHRoaXMubW92ZVggKj0gLTFcclxuICAgICAgaWYgKCRwbGF5ZXIucG9zaXRpb24oKS5sZWZ0ID4gMSkge1xyXG4gICAgICAgICRwbGF5ZXIuc3RvcCgpLmFuaW1hdGUoe1xyXG4gICAgICAgICAgbGVmdDogJy09JyArICR0aGlzLm1vdmVYICsgJ3B4J1xyXG4gICAgICAgIH0sIGR0LCBlYXNpbmcpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRtYXAuc3RvcCgpLmFuaW1hdGUoe1xyXG4gICAgICAgIGxlZnQ6ICcrPScgKyAoJHRoaXMubW92ZVggLSAkdGhpcy5vZmZzZXRYKSArICdweCdcclxuICAgICAgfSwgZHQsIGVhc2luZykgICAgICBcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICgkcGxheWVyLnBvc2l0aW9uKCkubGVmdCA8ICh3aW5kb3cuaW5uZXJXaWR0aC8yKSkge1xyXG4gICAgICAgICRwbGF5ZXIuc3RvcCgpLmFuaW1hdGUoe1xyXG4gICAgICAgICAgbGVmdDogJys9JyArICR0aGlzLm1vdmVYICsgJ3B4J1xyXG4gICAgICAgIH0sIGR0LCBlYXNpbmcpXHJcbiAgICAgIH1cclxuICAgICAgJG1hcC5zdG9wKCkuYW5pbWF0ZSh7XHJcbiAgICAgICAgbGVmdDogJy09JyArICgkdGhpcy5tb3ZlWCAtICR0aGlzLm9mZnNldFgpICsgJ3B4J1xyXG4gICAgICB9LCBkdCwgZWFzaW5nKVxyXG4gICAgfVxyXG4gIH1cclxuICAvLyBZIE1vdmVtZW50XHJcbiAgaWYgKCR0aGlzLm1vdmVZICE9IG51bGwpIHtcclxuXHJcbiAgICBpZiAoJHRoaXMubW92ZVkgPCAwKSB7XHJcbiAgICAgICR0aGlzLm1vdmVZICo9IC0xXHJcbiAgICAgIGlmICgkcGxheWVyLnBvc2l0aW9uKCkudG9wID4gMSkge1xyXG4gICAgICAgICRwbGF5ZXIuc3RvcCgpLmFuaW1hdGUoe1xyXG4gICAgICAgICAgdG9wOiAnLT0nICsgJHRoaXMubW92ZVkgKyAncHgnXHJcbiAgICAgICAgfSwgZHQsIGVhc2luZylcclxuICAgICAgfVxyXG5cclxuICAgICAgJG1hcC5zdG9wKCkuYW5pbWF0ZSh7XHJcbiAgICAgICAgdG9wOiAnKz0nICsgKCR0aGlzLm1vdmVZIC0gJHRoaXMub2Zmc2V0WSkgKyAncHgnXHJcbiAgICAgIH0sIGR0LCBlYXNpbmcpXHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKCRwbGF5ZXIucG9zaXRpb24oKS50b3AgPCAod2luZG93LmlubmVySGVpZ2h0LzIpKSB7XHJcbiAgICAgICAgJHBsYXllci5zdG9wKCkuYW5pbWF0ZSh7XHJcbiAgICAgICAgICB0b3A6ICcrPScgKyAkdGhpcy5tb3ZlWSArICdweCdcclxuICAgICAgICB9LCBkdCwgZWFzaW5nKVxyXG4gICAgICB9XHJcbiAgICAgICRtYXAuc3RvcCgpLmFuaW1hdGUoe1xyXG4gICAgICAgIHRvcDogJy09JyArICgkdGhpcy5tb3ZlWSAtICR0aGlzLm9mZnNldFkpICsgJ3B4J1xyXG4gICAgICB9LCBkdCwgZWFzaW5nKVxyXG4gICAgICBcclxuICAgIH1cclxuICB9XHJcblxyXG59XHJcbiIsImxldCByb290ID0gbnVsbFxyXG5sZXQgdXNlSGFzaCA9IHRydWUgLy8gRGVmYXVsdHMgdG86IGZhbHNlXHJcbmxldCBoYXNoID0gJyMhJyAvLyBEZWZhdWx0cyB0bzogJyMnXHJcbmxldCByb3V0ZXIgPSBuZXcgTmF2aWdvKHJvb3QsIHVzZUhhc2gsIGhhc2gpXHJcblxyXG5mdW5jdGlvbiByb3V0ZXMoKSB7XHJcbiAgcm91dGVyLm9uKGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnNvbGUuaW5mbygnVGhlIFVuZGVyZ3JvdW5kJylcclxuICAgIGxvY2F0aW9uc0xvYWQoJ3RoZS11bmRlcmdyb3VuZCcpXHJcbiAgICBuZXdTb3VuZCgnc3RhcnQnKVxyXG4gICAgc2V0UG9zaXRpb24oJHBsYXllciwgNjIsIDMxMSlcclxuICB9KVxyXG4gIFxyXG4gIHJvdXRlci5ub3RGb3VuZChmdW5jdGlvbiAocXVlcnkpIHtcclxuICAgIGNvbnNvbGUuaW5mbygnNDA0IHBhZ2Ugbm90IGZvdW5kJylcclxuICAgIGxvY2F0aW9uc0xvYWQoJ3N0YXktZGV0ZXJtaW5lZCcpXHJcbiAgICBuZXdTb3VuZCgnZGV0ZXJtaW5hdGlvbicpXHJcbiAgICByb3V0ZXIubmF2aWdhdGUoXCIvNDA0XCIpXHJcbiAgICBkZWxldGVOYXYoKVxyXG4gICAgJChkb2N1bWVudCkua2V5ZG93bihmdW5jdGlvbiAoZSkge1xyXG4gICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZihcIjQwNFwiKSA+IC0xKSB7XHJcbiAgICAgICAgc2V0UG9zaXRpb24oJHBsYXllciwgNjIsIDMxMSlcclxuICAgICAgICByb3V0ZXIubmF2aWdhdGUoXCIvXCIpXHJcblxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH0pXHJcbiAgXHJcbiAgXHJcbiAgcm91dGVyXHJcbiAgICAub24oe1xyXG5cclxuICAgICAgJ3J1aW5zJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnUnVpbnMnKVxyXG4gICAgICAgIGxvY2F0aW9uc0xvYWQoJ3J1aW5zJylcclxuICAgICAgICBuZXdTb3VuZCgncnVpbnMnKVxyXG4gICAgICAgIHNldFBvc2l0aW9uKCRwbGF5ZXIsIDY4MCwgMzc3KVxyXG4gICAgICB9LFxyXG4gICAgICAnc25vd2Rpbic6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmluZm8oJ1Nub3dkaW4gRm9yZXN0JylcclxuICAgICAgICBsb2NhdGlvbnNMb2FkKCdzbm93ZGluJylcclxuICAgICAgICBuZXdTb3VuZCgnc25vd2RpbicpXHJcbiAgICAgICAgc2V0UG9zaXRpb24oJHBsYXllciwgMjY0LCA0NjgpXHJcbiAgICAgIH0sXHJcbiAgICAgICdzbm93ZGluL3Nub3dtYW4nOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2V0UG9zaXRpb24oJCgnLm1hcCcpLCAtNTYzNCwgLTc5NClcclxuICAgICAgICBzZXRQb3NpdGlvbigkcGxheWVyLCA3NjQsIDMwMClcclxuICAgICAgfSxcclxuICAgICAgJ3Nub3dkaW4vZ3JpbGxieXMnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2V0UG9zaXRpb24oJCgnLm1hcCcpLCAtMjE5MDksIC0yODcwKVxyXG4gICAgICAgIHNldFBvc2l0aW9uKCRwbGF5ZXIsIDc3OSwgMzQ1KVxyXG4gICAgICB9LFxyXG4gICAgICAnc25vd2Rpbi9wYXB5cnVzLXNhbnMtaG91c2UnOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIHNldFBvc2l0aW9uKCQoJy5tYXAnKSwgLTIzODI3LCAtMjg4NSlcclxuICAgICAgICBzZXRQb3NpdGlvbigkcGxheWVyLCA3NzksIDM0NSlcclxuICAgICAgfSxcclxuXHJcbiAgICAgICd3YXRlcmZhbGwnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS5pbmZvKCdXYXRlcmZhbGwnKVxyXG4gICAgICAgIGxvY2F0aW9uc0xvYWQoJ3dhdGVyZmFsbCcpXHJcbiAgICAgICAgc2V0UG9zaXRpb24oJHBsYXllciwgNDc1LCAzNjUpXHJcbiAgICAgICAgbmV3U291bmQoJ3dhdGVyZmFsbCcpXHJcbiAgICAgIH0sXHJcbiAgICAgICd3YXRlcmZhbGwvdGVtbWllJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnVGVtbWllJylcclxuICAgICAgICBzZXRQb3NpdGlvbigkKCcubWFwJyksIC0xNDU5NiwgLTU0ODgpXHJcbiAgICAgICAgc2V0UG9zaXRpb24oJHBsYXllciwgNzUzLCAzNzUpXHJcbiAgICAgICAgbmV3U291bmQoJ3RlbW1pZScpXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAnaG90bGFuZCc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmluZm8oJ0hvdGxhbmQnKVxyXG4gICAgICAgIGxvY2F0aW9uc0xvYWQoJ2hvdGxhbmQnKVxyXG4gICAgICAgIHNldFBvc2l0aW9uKCRwbGF5ZXIsIDI1OCwgNDMyKVxyXG4gICAgICAgIG5ld1NvdW5kKCdob3RsYW5kJylcclxuICAgICAgfSxcclxuICAgICAgJ2hvdGxhbmQvYWxwaHknOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2V0UG9zaXRpb24oJHBsYXllciwgNzY4LCAzNjkuMjQ2KVxyXG4gICAgICAgIHNldFBvc2l0aW9uKCQoJy5tYXAnKSwgLTQ3NTguOTcsIC02NjU4LjU2KVxyXG4gICAgICAgIG5ld1NvdW5kKCdhbHBoeXMnKVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgJ3RoZS1jb3JlJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnVGhlIENvcmUnKVxyXG4gICAgICAgIGxvY2F0aW9uc0xvYWQoJ3RoZS1jb3JlJylcclxuICAgICAgICBuZXdTb3VuZCgndGhlLWNvcmUnKVxyXG4gICAgICB9LFxyXG4gICAgICAnbmV3LWhvbWUnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS5pbmZvKCdOZXcgSG9tZScpXHJcbiAgICAgICAgbG9jYXRpb25zTG9hZCgnbmV3LWhvbWUnKVxyXG4gICAgICAgIG5ld1NvdW5kKCcnKVxyXG4gICAgICB9XHJcbiAgICB9KS5yZXNvbHZlKClcclxuICBcclxufVxyXG4iXX0=
